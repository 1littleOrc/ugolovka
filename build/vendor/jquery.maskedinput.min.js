!function(e){function t(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),"function"==typeof e[t]?"paste":"input"}var n,a=t()+".mask",r=navigator.userAgent,i=/iphone/i.test(r),o=/android/i.test(r);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(n=this.createTextRange(),n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,r){var c,l,s,u,f,h;return!t&&this.length>0?(c=e(this[0]),c.data(e.mask.dataName)()):(r=e.extend({placeholder:e.mask.placeholder,completed:null},r),l=e.mask.definitions,s=[],u=h=t.length,f=null,e.each(t.split(""),function(e,t){"?"==t?(h--,u=e):l[t]?(s.push(RegExp(l[t])),null===f&&(f=s.length-1)):s.push(null)}),this.trigger("unmask").each(function(){function c(e){for(;h>++e&&!s[e];);return e}function d(e){for(;--e>=0&&!s[e];);return e}function m(e,t){var n,a;if(!(0>e)){for(n=e,a=c(t);h>n;n++)if(s[n]){if(!(h>a&&s[n].test(R[a])))break;R[n]=R[a],R[a]=r.placeholder,a=c(a)}b(),x.caret(Math.max(f,e))}}function p(e){var t,n,a,i;for(t=e,n=r.placeholder;h>t;t++)if(s[t]){if(a=c(t),i=R[t],R[t]=n,!(h>a&&s[a].test(i)))break;n=i}}function g(e){var t,n,a,r=e.which;8===r||46===r||i&&127===r?(t=x.caret(),n=t.begin,a=t.end,0===a-n&&(n=46!==r?d(n):a=c(n-1),a=46===r?c(a):a),k(n,a),m(n,a-1),e.preventDefault()):27==r&&(x.val(S),x.caret(0,y()),e.preventDefault())}function v(t){var n,a,i,l=t.which,u=x.caret();t.ctrlKey||t.altKey||t.metaKey||32>l||l&&(0!==u.end-u.begin&&(k(u.begin,u.end),m(u.begin,u.end-1)),n=c(u.begin-1),h>n&&(a=String.fromCharCode(l),s[n].test(a)&&(p(n),R[n]=a,b(),i=c(n),o?setTimeout(e.proxy(e.fn.caret,x,i),0):x.caret(i),r.completed&&i>=h&&r.completed.call(x))),t.preventDefault())}function k(e,t){var n;for(n=e;t>n&&h>n;n++)s[n]&&(R[n]=r.placeholder)}function b(){x.val(R.join(""))}function y(e){var t,n,a=x.val(),i=-1;for(t=0,pos=0;h>t;t++)if(s[t]){for(R[t]=r.placeholder;pos++<a.length;)if(n=a.charAt(pos-1),s[t].test(n)){R[t]=n,i=t;break}if(pos>a.length)break}else R[t]===a.charAt(pos)&&t!==u&&(pos++,i=t);return e?b():u>i+1?(x.val(""),k(0,h)):(b(),x.val(x.val().substring(0,i+1))),u?t:f}var x=e(this),R=e.map(t.split(""),function(e){return"?"!=e?l[e]?r.placeholder:e:void 0}),S=x.val();x.data(e.mask.dataName,function(){return e.map(R,function(e,t){return s[t]&&e!=r.placeholder?e:null}).join("")}),x.attr("readonly")||x.one("unmask",function(){x.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(n);var e;S=x.val(),e=y(),n=setTimeout(function(){b(),e==t.length?x.caret(0,e):x.caret(e)},10)}).bind("blur.mask",function(){y(),x.val()!=S&&x.change()}).bind("keydown.mask",g).bind("keypress.mask",v).bind(a,function(){setTimeout(function(){var e=y(!0);x.caret(e),r.completed&&e==x.val().length&&r.completed.call(x)},0)}),y()}))}})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYXNrZWRpbnB1dC5taW4uanMiXSwibmFtZXMiOlsiZSIsInQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJuIiwiYSIsInIiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpIiwidGVzdCIsIm8iLCJtYXNrIiwiZGVmaW5pdGlvbnMiLCI5IiwiKiIsImRhdGFOYW1lIiwicGxhY2Vob2xkZXIiLCJmbiIsImV4dGVuZCIsImNhcmV0IiwidGhpcyIsImxlbmd0aCIsImlzIiwiZWFjaCIsInNldFNlbGVjdGlvblJhbmdlIiwiY3JlYXRlVGV4dFJhbmdlIiwiY29sbGFwc2UiLCJtb3ZlRW5kIiwibW92ZVN0YXJ0Iiwic2VsZWN0Iiwic2VsZWN0aW9uU3RhcnQiLCJzZWxlY3Rpb25FbmQiLCJzZWxlY3Rpb24iLCJjcmVhdGVSYW5nZSIsImR1cGxpY2F0ZSIsInRleHQiLCJiZWdpbiIsImVuZCIsInVubWFzayIsInRyaWdnZXIiLCJjIiwibCIsInMiLCJ1IiwiZiIsImgiLCJkYXRhIiwiY29tcGxldGVkIiwic3BsaXQiLCJwdXNoIiwiUmVnRXhwIiwiZCIsIm0iLCJSIiwiYiIsIngiLCJNYXRoIiwibWF4IiwicCIsImciLCJ3aGljaCIsImsiLCJwcmV2ZW50RGVmYXVsdCIsInZhbCIsIlMiLCJ5IiwidiIsImN0cmxLZXkiLCJhbHRLZXkiLCJtZXRhS2V5IiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwic2V0VGltZW91dCIsInByb3h5IiwiY2FsbCIsImpvaW4iLCJwb3MiLCJjaGFyQXQiLCJzdWJzdHJpbmciLCJtYXAiLCJhdHRyIiwib25lIiwidW5iaW5kIiwicmVtb3ZlRGF0YSIsImJpbmQiLCJjbGVhclRpbWVvdXQiLCJjaGFuZ2UiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJDQU1BLFNBQVVBLEdBQUcsUUFBU0MsS0FBSSxHQUFJRCxHQUFFRSxTQUFTQyxjQUFjLFNBQVNGLEVBQUUsU0FBVSxPQUFPRCxHQUFFSSxh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dGVudCI6WyIvKlxuXHRNYXNrZWQgSW5wdXQgcGx1Z2luIGZvciBqUXVlcnlcblx0Q29weXJpZ2h0IChjKSAyMDA3LTIwMTMgSm9zaCBCdXNoIChkaWdpdGFsYnVzaC5jb20pXG5cdExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSAoaHR0cDovL2RpZ2l0YWxidXNoLmNvbS9wcm9qZWN0cy9tYXNrZWQtaW5wdXQtcGx1Z2luLyNsaWNlbnNlKVxuXHRWZXJzaW9uOiAxLjMuMVxuKi9cbihmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLHQ9XCJvbnBhc3RlXCI7cmV0dXJuIGUuc2V0QXR0cmlidXRlKHQsXCJcIiksXCJmdW5jdGlvblwiPT10eXBlb2YgZVt0XT9cInBhc3RlXCI6XCJpbnB1dFwifXZhciBuLGE9dCgpK1wiLm1hc2tcIixyPW5hdmlnYXRvci51c2VyQWdlbnQsaT0vaXBob25lL2kudGVzdChyKSxvPS9hbmRyb2lkL2kudGVzdChyKTtlLm1hc2s9e2RlZmluaXRpb25zOns5OlwiWzAtOV1cIixhOlwiW0EtWmEtel1cIixcIipcIjpcIltBLVphLXowLTldXCJ9LGRhdGFOYW1lOlwicmF3TWFza0ZuXCIscGxhY2Vob2xkZXI6XCJfXCJ9LGUuZm4uZXh0ZW5kKHtjYXJldDpmdW5jdGlvbihlLHQpe3ZhciBuO2lmKDAhPT10aGlzLmxlbmd0aCYmIXRoaXMuaXMoXCI6aGlkZGVuXCIpKXJldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlPyh0PVwibnVtYmVyXCI9PXR5cGVvZiB0P3Q6ZSx0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLnNldFNlbGVjdGlvblJhbmdlP3RoaXMuc2V0U2VsZWN0aW9uUmFuZ2UoZSx0KTp0aGlzLmNyZWF0ZVRleHRSYW5nZSYmKG49dGhpcy5jcmVhdGVUZXh0UmFuZ2UoKSxuLmNvbGxhcHNlKCEwKSxuLm1vdmVFbmQoXCJjaGFyYWN0ZXJcIix0KSxuLm1vdmVTdGFydChcImNoYXJhY3RlclwiLGUpLG4uc2VsZWN0KCkpfSkpOih0aGlzWzBdLnNldFNlbGVjdGlvblJhbmdlPyhlPXRoaXNbMF0uc2VsZWN0aW9uU3RhcnQsdD10aGlzWzBdLnNlbGVjdGlvbkVuZCk6ZG9jdW1lbnQuc2VsZWN0aW9uJiZkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UmJihuPWRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLGU9MC1uLmR1cGxpY2F0ZSgpLm1vdmVTdGFydChcImNoYXJhY3RlclwiLC0xZTUpLHQ9ZStuLnRleHQubGVuZ3RoKSx7YmVnaW46ZSxlbmQ6dH0pfSx1bm1hc2s6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmlnZ2VyKFwidW5tYXNrXCIpfSxtYXNrOmZ1bmN0aW9uKHQscil7dmFyIGMsbCxzLHUsZixoO3JldHVybiF0JiZ0aGlzLmxlbmd0aD4wPyhjPWUodGhpc1swXSksYy5kYXRhKGUubWFzay5kYXRhTmFtZSkoKSk6KHI9ZS5leHRlbmQoe3BsYWNlaG9sZGVyOmUubWFzay5wbGFjZWhvbGRlcixjb21wbGV0ZWQ6bnVsbH0sciksbD1lLm1hc2suZGVmaW5pdGlvbnMscz1bXSx1PWg9dC5sZW5ndGgsZj1udWxsLGUuZWFjaCh0LnNwbGl0KFwiXCIpLGZ1bmN0aW9uKGUsdCl7XCI/XCI9PXQ/KGgtLSx1PWUpOmxbdF0/KHMucHVzaChSZWdFeHAobFt0XSkpLG51bGw9PT1mJiYoZj1zLmxlbmd0aC0xKSk6cy5wdXNoKG51bGwpfSksdGhpcy50cmlnZ2VyKFwidW5tYXNrXCIpLmVhY2goZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGUpe2Zvcig7aD4rK2UmJiFzW2VdOyk7cmV0dXJuIGV9ZnVuY3Rpb24gZChlKXtmb3IoOy0tZT49MCYmIXNbZV07KTtyZXR1cm4gZX1mdW5jdGlvbiBtKGUsdCl7dmFyIG4sYTtpZighKDA+ZSkpe2ZvcihuPWUsYT1jKHQpO2g+bjtuKyspaWYoc1tuXSl7aWYoIShoPmEmJnNbbl0udGVzdChSW2FdKSkpYnJlYWs7UltuXT1SW2FdLFJbYV09ci5wbGFjZWhvbGRlcixhPWMoYSl9YigpLHguY2FyZXQoTWF0aC5tYXgoZixlKSl9fWZ1bmN0aW9uIHAoZSl7dmFyIHQsbixhLGk7Zm9yKHQ9ZSxuPXIucGxhY2Vob2xkZXI7aD50O3QrKylpZihzW3RdKXtpZihhPWModCksaT1SW3RdLFJbdF09biwhKGg+YSYmc1thXS50ZXN0KGkpKSlicmVhaztuPWl9fWZ1bmN0aW9uIGcoZSl7dmFyIHQsbixhLHI9ZS53aGljaDs4PT09cnx8NDY9PT1yfHxpJiYxMjc9PT1yPyh0PXguY2FyZXQoKSxuPXQuYmVnaW4sYT10LmVuZCwwPT09YS1uJiYobj00NiE9PXI/ZChuKTphPWMobi0xKSxhPTQ2PT09cj9jKGEpOmEpLGsobixhKSxtKG4sYS0xKSxlLnByZXZlbnREZWZhdWx0KCkpOjI3PT1yJiYoeC52YWwoUykseC5jYXJldCgwLHkoKSksZS5wcmV2ZW50RGVmYXVsdCgpKX1mdW5jdGlvbiB2KHQpe3ZhciBuLGEsaSxsPXQud2hpY2gsdT14LmNhcmV0KCk7dC5jdHJsS2V5fHx0LmFsdEtleXx8dC5tZXRhS2V5fHwzMj5sfHxsJiYoMCE9PXUuZW5kLXUuYmVnaW4mJihrKHUuYmVnaW4sdS5lbmQpLG0odS5iZWdpbix1LmVuZC0xKSksbj1jKHUuYmVnaW4tMSksaD5uJiYoYT1TdHJpbmcuZnJvbUNoYXJDb2RlKGwpLHNbbl0udGVzdChhKSYmKHAobiksUltuXT1hLGIoKSxpPWMobiksbz9zZXRUaW1lb3V0KGUucHJveHkoZS5mbi5jYXJldCx4LGkpLDApOnguY2FyZXQoaSksci5jb21wbGV0ZWQmJmk+PWgmJnIuY29tcGxldGVkLmNhbGwoeCkpKSx0LnByZXZlbnREZWZhdWx0KCkpfWZ1bmN0aW9uIGsoZSx0KXt2YXIgbjtmb3Iobj1lO3Q+biYmaD5uO24rKylzW25dJiYoUltuXT1yLnBsYWNlaG9sZGVyKX1mdW5jdGlvbiBiKCl7eC52YWwoUi5qb2luKFwiXCIpKX1mdW5jdGlvbiB5KGUpe3ZhciB0LG4sYT14LnZhbCgpLGk9LTE7Zm9yKHQ9MCxwb3M9MDtoPnQ7dCsrKWlmKHNbdF0pe2ZvcihSW3RdPXIucGxhY2Vob2xkZXI7cG9zKys8YS5sZW5ndGg7KWlmKG49YS5jaGFyQXQocG9zLTEpLHNbdF0udGVzdChuKSl7Ult0XT1uLGk9dDticmVha31pZihwb3M+YS5sZW5ndGgpYnJlYWt9ZWxzZSBSW3RdPT09YS5jaGFyQXQocG9zKSYmdCE9PXUmJihwb3MrKyxpPXQpO3JldHVybiBlP2IoKTp1PmkrMT8oeC52YWwoXCJcIiksaygwLGgpKTooYigpLHgudmFsKHgudmFsKCkuc3Vic3RyaW5nKDAsaSsxKSkpLHU/dDpmfXZhciB4PWUodGhpcyksUj1lLm1hcCh0LnNwbGl0KFwiXCIpLGZ1bmN0aW9uKGUpe3JldHVyblwiP1wiIT1lP2xbZV0/ci5wbGFjZWhvbGRlcjplOnZvaWQgMH0pLFM9eC52YWwoKTt4LmRhdGEoZS5tYXNrLmRhdGFOYW1lLGZ1bmN0aW9uKCl7cmV0dXJuIGUubWFwKFIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gc1t0XSYmZSE9ci5wbGFjZWhvbGRlcj9lOm51bGx9KS5qb2luKFwiXCIpfSkseC5hdHRyKFwicmVhZG9ubHlcIil8fHgub25lKFwidW5tYXNrXCIsZnVuY3Rpb24oKXt4LnVuYmluZChcIi5tYXNrXCIpLnJlbW92ZURhdGEoZS5tYXNrLmRhdGFOYW1lKX0pLmJpbmQoXCJmb2N1cy5tYXNrXCIsZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQobik7dmFyIGU7Uz14LnZhbCgpLGU9eSgpLG49c2V0VGltZW91dChmdW5jdGlvbigpe2IoKSxlPT10Lmxlbmd0aD94LmNhcmV0KDAsZSk6eC5jYXJldChlKX0sMTApfSkuYmluZChcImJsdXIubWFza1wiLGZ1bmN0aW9uKCl7eSgpLHgudmFsKCkhPVMmJnguY2hhbmdlKCl9KS5iaW5kKFwia2V5ZG93bi5tYXNrXCIsZykuYmluZChcImtleXByZXNzLm1hc2tcIix2KS5iaW5kKGEsZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGU9eSghMCk7eC5jYXJldChlKSxyLmNvbXBsZXRlZCYmZT09eC52YWwoKS5sZW5ndGgmJnIuY29tcGxldGVkLmNhbGwoeCl9LDApfSkseSgpfSkpfX0pfSkoalF1ZXJ5KTsiXX0=
